<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
  <title>價格測算</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="format-detection" content="telephone=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="author" content="澎湖梧桐民宿">
  <meta name="keywords" content="">

  <link rel="stylesheet" type="text/css" href="/assets/css/vendor.css">
  <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="/assets/css/style.css">

  

  <meta name="description"
    content="價格測算|出發日期|回程日期|聯航-成人|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|船票-半票|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|船票-未滿3歲|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|四人房|0|1|雙人房|0|1|加床|0|1|2|3|4|5|機車數|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|最後一天|半天|一天|飛機起飛地點|台北|台中|嘉義|台南|高雄|飛機-成人票|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|飛機-敬老票|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|飛機-兒童票|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|汽車種類|TOYOTA|VIOS/YARIS|1.5|TOYOTA|NEWVIOS|1.5|NISSAN|TIIDA|1.6|TOYOTA|ALTIS|1.8|三菱|OUTLANDER|2.4CC|現代九人座SIAREX2.5CC|汽車數|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|最後一天|半天|一天|汽車種類|TOYOTA|VIOS/YARIS|1.5|TOYOTA|NEWVIOS|1.5|NISSAN|TIIDA|1.6|TOYOTA|ALTIS|1.8|三菱|OUTLANDER|2.4CC|現代九人座SIAREX2.5CC|汽車數|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|最後一天|半天|一天|價格計算 ">
  <title>價格測算</title>
  <meta property="og:title"
    content="澎湖梧桐民宿-價格測算">
  <meta property="og:description"
    content="價格測算|出發日期|回程日期|聯航-成人|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|船票-半票|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|船票-未滿3歲|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|四人房|0|1|雙人房|0|1|加床|0|1|2|3|4|5|機車數|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|最後一天|半天|一天|飛機起飛地點|台北|台中|嘉義|台南|高雄|飛機-成人票|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|飛機-敬老票|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|飛機-兒童票|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|汽車種類|TOYOTA|VIOS/YARIS|1.5|TOYOTA|NEWVIOS|1.5|NISSAN|TIIDA|1.6|TOYOTA|ALTIS|1.8|三菱|OUTLANDER|2.4CC|現代九人座SIAREX2.5CC|汽車數|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|最後一天|半天|一天|汽車種類|TOYOTA|VIOS/YARIS|1.5|TOYOTA|NEWVIOS|1.5|NISSAN|TIIDA|1.6|TOYOTA|ALTIS|1.8|三菱|OUTLANDER|2.4CC|現代九人座SIAREX2.5CC|汽車數|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|最後一天|半天|一天|價格計算 ">

     
        <meta property="og:image"
    content="https://wutong.ph101.tw/assets/images/posts/cover/og-logo.webp">

    

    <meta property="og:url" content="https://wutong.ph101.tw/cal-515.html">
    <meta property="og:ype" content="article">




    <link rel="icon" href="/assets/images/favicon.webp" type="image/webp">
    <link rel="apple-touch-icon" href="/assets/images/apple-logo.webp">

    <!-- ================================================== -->

   

    






</head>

<body>


  
 
   <div class="col-lg-8 mx-auto p-4 py-md-2 ">

    <header class="d-flex align-items-center pb-3 mb-3 border-bottom">
        <!-- <img id="first-image" src="/assets/images/main-logo.png" alt="logo圖" width="180" height="51"> -->
        <span class="fs-3 mx-auto">價格測算</span>
    </header>
    <div class="row">
        <div class="col-6">
            <label class="pt-2">出發日期</label>
            <input type="date" class=" form-control text-start border p-2" id="startDate" onchange="updateMinEndDate()" />
        </div>
        <div class="col-6 ">
            <label class="pt-2">回程日期</label>
            <input type="date" class=" form-control text-start border p-2" id="endDate" onchange="calculatePrice()" />
        </div>
        <div class="col-4">
            <label class="pt-2">聯航-成人</label>
            <select class="form-select" id="adults1">
                
                <option value="0">0</option>
                
                <option value="1">1</option>
                
                <option value="2">2</option>
                
                <option value="3">3</option>
                
                <option value="4">4</option>
                
                <option value="5">5</option>
                
                <option value="6">6</option>
                
                <option value="7">7</option>
                
                <option value="8">8</option>
                
                <option value="9">9</option>
                
                <option value="10">10</option>
                
                <option value="11">11</option>
                
                <option value="12">12</option>
                
                <option value="13">13</option>
                
                <option value="14">14</option>
                
                <option value="15">15</option>
                
                <option value="16">16</option>
                
                <option value="17">17</option>
                
                <option value="18">18</option>
                
                <option value="19">19</option>
                
                <option value="20">20</option>
                
            </select>
        </div>
        <div class="col-4">
            <label class="pt-2">船票-半票</label>
            <select class="form-select" id="seniors1">
                
                <option value="0">0</option>
                
                <option value="1">1</option>
                
                <option value="2">2</option>
                
                <option value="3">3</option>
                
                <option value="4">4</option>
                
                <option value="5">5</option>
                
                <option value="6">6</option>
                
                <option value="7">7</option>
                
                <option value="8">8</option>
                
                <option value="9">9</option>
                
                <option value="10">10</option>
                
                <option value="11">11</option>
                
                <option value="12">12</option>
                
                <option value="13">13</option>
                
                <option value="14">14</option>
                
                <option value="15">15</option>
                
                <option value="16">16</option>
                
                <option value="17">17</option>
                
                <option value="18">18</option>
                
                <option value="19">19</option>
                
                <option value="20">20</option>
                
            </select>
        </div>
        <div class="col-4">
            <label class="pt-2">船票-未滿3歲</label>
            <select class="form-select" id="children1">
                
                <option value="0">0</option>
                
                <option value="1">1</option>
                
                <option value="2">2</option>
                
                <option value="3">3</option>
                
                <option value="4">4</option>
                
                <option value="5">5</option>
                
                <option value="6">6</option>
                
                <option value="7">7</option>
                
                <option value="8">8</option>
                
                <option value="9">9</option>
                
                <option value="10">10</option>
                
                <option value="11">11</option>
                
                <option value="12">12</option>
                
                <option value="13">13</option>
                
                <option value="14">14</option>
                
                <option value="15">15</option>
                
                <option value="16">16</option>
                
                <option value="17">17</option>
                
                <option value="18">18</option>
                
                <option value="19">19</option>
                
                <option value="20">20</option>
                
            </select>
        </div>
    </div>

    <div class="row">

        
        <div class="col-4">
            <label class="pt-2">四人房</label>
            <select class="form-select" id="q1">
                
                <option value="0">0</option>
                
                <option value="1">1</option>
                
            </select>
            
        </div>
        
        <div class="col-4">
            <label class="pt-2">雙人房</label>
            <select class="form-select" id="q2">
                
                <option value="0">0</option>
                
                <option value="1">1</option>
                
            </select>
            
        </div>
        


        <div class="col-4">
            <label class="pt-2">加床</label>
            <select class="form-select" id="q3">
                
                <option value="0">0</option>
                
                <option value="1">1</option>
                
                <option value="2">2</option>
                
                <option value="3">3</option>
                
                <option value="4">4</option>
                
                <option value="5">5</option>
                
            </select>
        </div>

    </div>

    <div class="row">
        <div class="col-6">
            <label class="pt-2">機車數</label>
            <select class="form-select" id="moto_number">
                
                <option value="0">0</option>
                
                <option value="1">1</option>
                
                <option value="2">2</option>
                
                <option value="3">3</option>
                
                <option value="4">4</option>
                
                <option value="5">5</option>
                
                <option value="6">6</option>
                
                <option value="7">7</option>
                
                <option value="8">8</option>
                
                <option value="9">9</option>
                
                <option value="10">10</option>
                
                <option value="11">11</option>
                
                <option value="12">12</option>
                
                <option value="13">13</option>
                
                <option value="14">14</option>
                
                <option value="15">15</option>
                
                <option value="16">16</option>
                
                <option value="17">17</option>
                
                <option value="18">18</option>
                
                <option value="19">19</option>
                
                <option value="20">20</option>
                
            </select>
        </div>

        <div class="col-6">
            <label class="pt-2">最後一天</label>
            <select class="form-select" id="mday">
                <option value="half">半天</option>
                <option value="oneday">一天</option>
            </select>
        </div>

    </div>

    <div class="row">
        <div class="col-6">
            <label class="pt-2">飛機起飛地點</label>
            <select class="form-select" id="location">
                <option value="Taipei">台北</option>
                <option value="Taichung">台中</option>
                <option value="Chiayi">嘉義</option>
                <option value="Tainan">台南</option>
                <option value="Kaohsiung">高雄</option>
            </select>
        </div>
        <div class="col-6">
            <label class="pt-2">飛機-成人票</label>
            <select class="form-select" id="adults">
                
                <option value="0">0</option>
                
                <option value="1">1</option>
                
                <option value="2">2</option>
                
                <option value="3">3</option>
                
                <option value="4">4</option>
                
                <option value="5">5</option>
                
                <option value="6">6</option>
                
                <option value="7">7</option>
                
                <option value="8">8</option>
                
                <option value="9">9</option>
                
                <option value="10">10</option>
                
                <option value="11">11</option>
                
                <option value="12">12</option>
                
                <option value="13">13</option>
                
                <option value="14">14</option>
                
                <option value="15">15</option>
                
                <option value="16">16</option>
                
                <option value="17">17</option>
                
                <option value="18">18</option>
                
                <option value="19">19</option>
                
                <option value="20">20</option>
                
            </select>
        </div>
        <div class="col-6">
            <label class="pt-2">飛機-敬老票</label>
            <select class="form-select" id="seniors">
                
                <option value="0">0</option>
                
                <option value="1">1</option>
                
                <option value="2">2</option>
                
                <option value="3">3</option>
                
                <option value="4">4</option>
                
                <option value="5">5</option>
                
                <option value="6">6</option>
                
                <option value="7">7</option>
                
                <option value="8">8</option>
                
                <option value="9">9</option>
                
                <option value="10">10</option>
                
                <option value="11">11</option>
                
                <option value="12">12</option>
                
                <option value="13">13</option>
                
                <option value="14">14</option>
                
                <option value="15">15</option>
                
                <option value="16">16</option>
                
                <option value="17">17</option>
                
                <option value="18">18</option>
                
                <option value="19">19</option>
                
                <option value="20">20</option>
                
            </select>
        </div>
        <div class="col-6">
            <label class="pt-2">飛機-兒童票</label>
            <select class="form-select" id="children">
                
                <option value="0">0</option>
                
                <option value="1">1</option>
                
                <option value="2">2</option>
                
                <option value="3">3</option>
                
                <option value="4">4</option>
                
                <option value="5">5</option>
                
                <option value="6">6</option>
                
                <option value="7">7</option>
                
                <option value="8">8</option>
                
                <option value="9">9</option>
                
                <option value="10">10</option>
                
                <option value="11">11</option>
                
                <option value="12">12</option>
                
                <option value="13">13</option>
                
                <option value="14">14</option>
                
                <option value="15">15</option>
                
                <option value="16">16</option>
                
                <option value="17">17</option>
                
                <option value="18">18</option>
                
                <option value="19">19</option>
                
                <option value="20">20</option>
                
            </select>
        </div>
    </div>



    <div class="row">
        <div class="col-12">
            <label class="pt-2">汽車種類</label>
            <select class="form-select" id="carType">
                <option value="vios">TOYOTA VIOS/YARIS 1.5</option>
                <option value="newvios">TOYOTA NEWVIOS 1.5</option>
                <option value="tiida">NISSAN TIIDA 1.6</option>
                <option value="altis">TOYOTA ALTIS 1.8</option>
                <option value="outlander">三菱 OUTLANDER 2.4CC</option>
                <option value="siarex">現代九人座SIAREX2.5CC</option>
            </select>
        </div>
        <div class="col-6">
            <label class="pt-2">汽車數</label>
            <select class="form-select" id="quantity">
                
                <option value="0">0</option>
                
                <option value="1">1</option>
                
                <option value="2">2</option>
                
                <option value="3">3</option>
                
                <option value="4">4</option>
                
                <option value="5">5</option>
                
                <option value="6">6</option>
                
                <option value="7">7</option>
                
                <option value="8">8</option>
                
                <option value="9">9</option>
                
                <option value="10">10</option>
                
                <option value="11">11</option>
                
                <option value="12">12</option>
                
                <option value="13">13</option>
                
                <option value="14">14</option>
                
                <option value="15">15</option>
                
                <option value="16">16</option>
                
                <option value="17">17</option>
                
                <option value="18">18</option>
                
                <option value="19">19</option>
                
                <option value="20">20</option>
                
            </select>
        </div>
        <div class="col-6">
            <label class="pt-2">最後一天</label>
            <select class="form-select" id="cday">
                <option value="half">半天</option>
                <option value="oneday">一天</option>
            </select>
        </div>

    </div>

    <div class="row">
        <div class="col-12">
            <label class="pt-2">汽車種類</label>
            <select class="form-select" id="carType1">
                <option value="vios">TOYOTA VIOS/YARIS 1.5</option>
                <option value="newvios">TOYOTA NEWVIOS 1.5</option>
                <option value="tiida">NISSAN TIIDA 1.6</option>
                <option value="altis">TOYOTA ALTIS 1.8</option>
                <option value="outlander">三菱 OUTLANDER 2.4CC</option>
                <option value="siarex">現代九人座SIAREX2.5CC</option>
            </select>
        </div>
        <div class="col-6">
            <label class="pt-2">汽車數</label>
            <select class="form-select" id="quantity1">
                
                <option value="0">0</option>
                
                <option value="1">1</option>
                
                <option value="2">2</option>
                
                <option value="3">3</option>
                
                <option value="4">4</option>
                
                <option value="5">5</option>
                
                <option value="6">6</option>
                
                <option value="7">7</option>
                
                <option value="8">8</option>
                
                <option value="9">9</option>
                
                <option value="10">10</option>
                
                <option value="11">11</option>
                
                <option value="12">12</option>
                
                <option value="13">13</option>
                
                <option value="14">14</option>
                
                <option value="15">15</option>
                
                <option value="16">16</option>
                
                <option value="17">17</option>
                
                <option value="18">18</option>
                
                <option value="19">19</option>
                
                <option value="20">20</option>
                
            </select>
        </div>
        <div class="col-6">
            <label class="pt-2">最後一天</label>
            <select class="form-select" id="cday1">
                <option value="half">半天</option>
                <option value="oneday">一天</option>
            </select>
        </div>

    </div>


    <div class="pt-3">


    </div>
    <div class="d-grid gap-2 col-8 col-md-6 mx-auto">
        <button class="btn btn-dark" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions"> <span id="allDisplay" class="btn-text"></span> </button>
    </div>
    
    <div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions" aria-labelledby="offcanvasWithBothOptionsLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">價格計算</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <p id="roomDisplay"></p>
            <p id="priceDisplay"></p>
            <p id="cost"></p>
            <p id="dalta"></p>
            <p id="carDisplay"></p>
            <p id="carDisplay1"></p>
            <p id="allDisplay1"></p>
            <p id="aveDisplay1"></p>

        </div>
    </div>


</div>

<script>


    // 获取所有需要监听变动的输入框
    const inputs = document.querySelectorAll(' #adults1, #seniors1, #children1,#moto_number,#carType,#quantity,#carType1,#quantity1,#q1,#q2,#q3,#q4,#q5,#q6,#location,#adults,#seniors,#children,#mday,#cday,#cday1');

    // 为每个输入框添加 change 事件监听器
    inputs.forEach(input => {
        input.addEventListener('change', calculatePrice);
    });

    function calculatePrice() {


        const location = document.getElementById('location').value;
        const adults = parseInt(document.getElementById('adults').value);
        const seniors = parseInt(document.getElementById('seniors').value);
        const children = parseInt(document.getElementById('children').value);

        // 將城市與票價對應好
        const ticketPrices = {
            Taipei: { adult: 4800, senior: 2500, child: 3600 },
            Taichung: { adult: 3700, senior: 1900, child: 2800 },
            Chiayi: { adult: 3500, senior: 1800, child: 2650 },
            Tainan: { adult: 3500, senior: 1900, child: 2700 },
            Kaohsiung: { adult: 4100, senior: 2100, child: 3100 }
        };

        // 計算機票價格
        const totalCost =
            adults * ticketPrices[location].adult +
            seniors * ticketPrices[location].senior +
            children * ticketPrices[location].child;
        if (totalCost === 0) {
            cost.style.display = 'none';
        } else {
            cost.style.display = 'block';
            cost.textContent = `機票價格： ${totalCost} = ${adults} * ${ticketPrices[location].adult} +
            ${seniors} * ${ticketPrices[location].senior} +
            ${children} * ${ticketPrices[location].child}`;
        }
        //計算船票價格

        const startDateInput = document.getElementById('startDate');
        const endDateInput = document.getElementById('endDate');
        const priceDisplay = document.getElementById('priceDisplay');
        const adults1 = parseInt(document.getElementById('adults1').value);
        const seniors1 = parseInt(document.getElementById('seniors1').value);
        const children1 = parseInt(document.getElementById('children1').value);
        const moto_number = parseInt(document.getElementById('moto_number').value);


        const startDate = new Date(startDateInput.value);
        const endDate = new Date(endDateInput.value);

        const startTimestamp = startDate.getTime();
        const endTimestamp = endDate.getTime();

        const today = new Date();
        const todayTimestamp = today.getTime();

        if (endTimestamp < startTimestamp) {
            endDateInput.value = startDateInput.value;
        }

        const startDay = startDate.getDay();
        const endDay = endDate.getDay();
        let totalPrice = 1500;
        let SwPrice = 0;
        let SsPrice = 0;
        let EwPrice = 0;
        let EsPrice = 0;
        if (startDay === 5 || startDay === 6) {
            SwPrice = 150;
        }

        if (endDay === 0 || endDay === 1) {
            EwPrice = 150;
        }

        const specialDates = [
            [new Date('2024-04-04').getTime(), new Date('2024-04-07').getTime()],
            [new Date('2024-06-08').getTime(), new Date('2024-06-10').getTime()]
        ];

        const isSpecialDate = specialDates.some(dateRange => {
            return startTimestamp >= dateRange[0] && startTimestamp <= dateRange[1];
        });

        if (isSpecialDate) {
            SsPrice = 250;
        }

        const isSpecialEndDate = specialDates.some(dateRange => {
            return endTimestamp >= dateRange[0] && endTimestamp <= dateRange[1];
        });

        if (isSpecialEndDate) {
            EsPrice = 250;
        }
        totalPrice = Math.max(SwPrice, SsPrice) + Math.max(EwPrice, EsPrice) + totalPrice;
        boatcost = totalPrice * adults1 + 975 * seniors1 + 195 * children1
        if (boatcost === 0) {
            priceDisplay.style.display = 'none';
        } else {
            priceDisplay.style.display = 'block';
            priceDisplay.textContent = `船票價格： ${boatcost} = ${totalPrice} * ${adults1} + 975 * ${seniors1} + 195 * ${children1}`;
        }
        // 計算機車價格

        dal = (endTimestamp - startTimestamp) / (24 * 60 * 60 * 1000);
        const mday = document.getElementById('mday').value;
        const mprices = {
            half: 250,
            oneday: 400,
        };

      


        moto_cost = (dal * 400 + mprices[mday]) * moto_number;
        if (moto_cost === 0) {
            dalta.style.display = 'none';
        } else {
            dalta.style.display = 'block';
            dalta.textContent = `機車價格： ${moto_cost} = (${dal} * 400 + ${mprices[mday]}) * ${moto_number} `;
        }
        //計算汽車價格
        const carType = document.getElementById('carType').value;
        const quantity = parseInt(document.getElementById('quantity').value);
        const cday = document.getElementById('cday').value;
        const prices = {
            vios: 1600,
            newvios: 1700,
            tiida: 1800,
            altis: 1900,
            outlander: 2500,
            siarex: 3000
        };

        const bprices = {
            vios: 1000,
            newvios: 1100,
            tiida: 1300,
            altis: 1400,
            outlander: 1900,
            siarex: 2100
        };
        
        let carPrice = prices[carType] * quantity * (dal + 1);
       
        if(cday==='half' && quantity>0){ 
            carPrice = prices[carType] * quantity * dal + bprices[carType];
        } 
       
        if (carPrice === 0) {
            carDisplay.style.display = 'none';
        } else if(cday==='half' && quantity>0){
            carDisplay.style.display = 'block';
            carDisplay.textContent = `汽車價格： ${carPrice} = ${prices[carType]} * ${quantity} * ${dal} +${bprices[carType]} `;
        }
        else {
            carDisplay.style.display = 'block';
            carDisplay.textContent = `汽車價格： ${carPrice} = ${prices[carType]} * ${quantity} * (${dal} + 1)`;
        }




        const carType1 = document.getElementById('carType1').value;
        const quantity1 = parseInt(document.getElementById('quantity1').value);
        const cday1 = document.getElementById('cday1').value;
        const prices1 = {
            vios: 1600,
            newvios: 1700,
            tiida: 1800,
            altis: 1900,
            outlander: 2500,
            siarex: 3000
        };

        const bprices1 = {
            vios: 1000,
            newvios: 1100,
            tiida: 1300,
            altis: 1400,
            outlander: 1900,
            siarex: 2100
        };
        let carPrice1 = prices1[carType1] * quantity1 * (dal + 1);
       
        if(cday1==='half' && quantity1>0){ 
            carPrice1 = prices1[carType1] * quantity1 * dal + bprices1[carType1];
        } 
        
        if (carPrice1 === 0) {
            carDisplay1.style.display = 'none';
        }  else if(cday1==='half' && quantity1>0){
            carDisplay1.style.display = 'block';
            carDisplay1.textContent = `汽車價格： ${carPrice1} = ${prices1[carType1]} * ${quantity1} * ${dal} +${bprices1[carType1]} `;
        }
        else {
            carDisplay1.style.display = 'block';
            carDisplay1.textContent = `汽車價格： ${carPrice1} = ${prices1[carType1]} * ${quantity1} * (${dal} + 1)`;
        }
        //計算房間價格
        function calculateTotalPrice(checkInDate, checkOutDate, roomPrices, specialDates) {
            function isSpecialDate(date) {
                var timestamp = date.getTime();

                for (var i = 0; i < specialDates.length; i++) {
                    var startDate = specialDates[i][0];
                    var endDate = specialDates[i][1];

                    if (timestamp >= startDate && timestamp <= endDate) {
                        return true;
                    }
                }

                return false;
            }

            var startDate = new Date(checkInDate);
            var endDate = new Date(checkOutDate);
            var days = Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24));

            var totalPrice = 0;

            for (var i = 0; i < days; i++) {
                var currentDay = new Date(startDate);
                currentDay.setDate(startDate.getDate() + i);

                // 檢查是否在 specialDates 中，如果是，使用週末價格
                var useWeekendPrice = isSpecialDate(currentDay);

                // 根據星期幾和是否是特殊日期選擇相應的價格
                var price;
                if (useWeekendPrice || currentDay.getDay() === 5 || currentDay.getDay() === 6 || currentDay.getDay() === 0) {
                    price = roomPrices.weekend;
                } else {
                    price = roomPrices.weekday;
                }

                // 將價格加到總價格中
                totalPrice += price;
            }

            return totalPrice;
        }

        // 定義每間房間的價格
        var room1Prices = { weekday: 3680, weekend: 3980 };
        var room2Prices = { weekday: 3380, weekend: 3680 };
        var room3Prices = { weekday: 2500, weekend: 2800 };
        var room4Prices = { weekday: 3680, weekend: 3980 };
        var room5Prices = { weekday: 3380, weekend: 3680 };
        var room6Prices = { weekday: 500, weekend: 500 };
        // 使用示例


        var totalRoom1 = calculateTotalPrice(startDate, endDate, room1Prices, specialDates);
        var totalRoom2 = calculateTotalPrice(startDate, endDate, room2Prices, specialDates);
        var totalRoom3 = calculateTotalPrice(startDate, endDate, room3Prices, specialDates);
        var totalRoom4 = calculateTotalPrice(startDate, endDate, room4Prices, specialDates);
        var totalRoom5 = calculateTotalPrice(startDate, endDate, room5Prices, specialDates);
        var totalRoom6 = calculateTotalPrice(startDate, endDate, room6Prices, specialDates);

       




        const q1 = parseInt(document.getElementById('q1').value);
        const q2 = parseInt(document.getElementById('q2').value);
        const q3 = parseInt(document.getElementById('q3').value);
        const q4 = parseInt(document.getElementById('q4').value);
        const q5 = parseInt(document.getElementById('q5').value);
        const q6 = parseInt(document.getElementById('q6').value);
        const roomPrice = (q1 * totalRoom1 + q2 * totalRoom2 + q3 * totalRoom3 + q4 * totalRoom4 + q5 * totalRoom5 + q6 * totalRoom6);
        if (roomPrice === 0) {
            roomDisplay.style.display = 'none';
        } else {
            roomDisplay.style.display = 'block';
            roomDisplay.textContent = `房間價格： ${roomPrice} = ( ${q1} * ${totalRoom1} + ${q2} * ${totalRoom2} + ${q3} * ${totalRoom3} + ${q4} * ${totalRoom4} + ${q5} * ${totalRoom5} + ${q6} * ${totalRoom6})`;
        }
        // 總報價
        allcost = totalCost + boatcost + moto_cost + carPrice + carPrice1 + roomPrice
        avecost = allcost / (adults1 + seniors1 + adults + seniors + children);
        allDisplay.textContent = `總價： ${allcost}`;
        allDisplay1.textContent = `總價： ${allcost}`;
        aveDisplay1.textContent = `人均： ${parseInt(avecost)}`;


    }

    function updateMinEndDate() {
        const startDateInput = document.getElementById('startDate');
        const endDateInput = document.getElementById('endDate');

        endDateInput.min = startDateInput.value;
        endDateInput.value = startDateInput.value; // 设置回程日期为出发日期

        calculatePrice();
    }

    function updateMinReturnDate() {
        const startDateInput = document.getElementById('startDate');
        const endDateInput = document.getElementById('endDate');

        const today = new Date();
        const todayFormatted = formatDate(today);

        startDateInput.min = todayFormatted;
        startDateInput.value = todayFormatted;

        endDateInput.min = todayFormatted;
        endDateInput.value = todayFormatted; // 设置回程日期初始值为今天

        calculatePrice();
    }

    function formatDate(date) {
        const yyyy = date.getFullYear();
        const mm = String(date.getMonth() + 1).padStart(2, '0');
        const dd = String(date.getDate()).padStart(2, '0');
        return `${yyyy}-${mm}-${dd}`;
    }

    updateMinReturnDate();




</script>


      
        
 

  
   <script type="text/javascript" src="/assets/js/bootstrap.bundle.min.js"></script>
</body>

</html>